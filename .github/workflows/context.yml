name: Context
on: [issues,workflow_dispatch]
env:
  var1: hello

jobs:
  context:
    outputs:
      myvar: ${{ steps.step1.outputs.test }}
    runs-on: ubuntu-latest
    steps:
    - name: PRINT DETAILS
      run: echo "${{ toJson(github.event) }}"
    - name: set variable value for ouput
      id: step1
      run: |
        echo "test=hello" >> "$GITHUB_OUTPUT"
        echo "action_state=yellow" >> "$GITHUB_ENV"
        echo "$var1"
        echo "${{ secrets.MYPASS }}"
        echo "${{ vars.yash }}"
    - run: echo "$action_state"
  printout:
    environment: test
    needs: context
    runs-on: windows-latest
    steps:
    - name: print value
      run: |
         echo "${{  needs.context.outputs.myvar }}"
         echo ${{ secrets.mysecret }}


  reusable:
    runs-on: ubuntu-latest
    steps:
    - uses: ./.github/workflows/callme.yml

     

